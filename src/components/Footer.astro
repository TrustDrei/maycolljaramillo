---
import { SITE, CONTACT_CTA } from '../config/site';
import { PERSON } from '../config/person';
import { NAV_LINKS } from '../data/navigation';
import Icon from './Icon.astro';

interface Props {
  lang?: 'es' | 'en';
}

const lang = Astro.props.lang ?? 'es';
const links = NAV_LINKS[lang];
const secondaryLinks = [
  { href: '/privacy', label: lang === 'es' ? 'Privacidad' : 'Privacy' },
  { href: '/terms', label: lang === 'es' ? 'Términos' : 'Terms' }
];
---

<footer class="mt-16 border-t border-border/70 bg-panel px-4 py-14 text-sm text-muted">
  <div class="page-width space-y-12">
    <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
      <div class="flex items-center gap-3">
        <div class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-full border border-border/70 bg-panel-strong">
          <img
            src="/images/logo-128.png"
            alt={PERSON.shortName}
            width="128"
            height="128"
            loading="lazy"
            decoding="async"
            class="h-full w-full object-contain"
          />
        </div>
        <div>
          <p class="text-lg font-semibold text-foreground">{PERSON.shortName}</p>
          <p class="text-foreground/70 text-sm">
            {lang === 'es'
              ? 'SEO tecnico, accesibilidad y automatizacion'
              : 'Technical SEO, accessibility, automation'}
          </p>
        </div>
      </div>
      <div class="flex flex-wrap gap-3">
        <a
          class="inline-flex items-center gap-2 rounded-full bg-accent px-4 py-2 font-semibold text-surface shadow-soft transition hover:-translate-y-[1px] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-surface"
          href={CONTACT_CTA.primary.href}
        >
          <Icon name="whatsapp" label="WhatsApp" />
          {lang === 'es' ? 'Hablar ahora' : 'Chat now'}
        </a>
        <a
          class="inline-flex items-center gap-2 rounded-full border border-border/70 bg-panel px-4 py-2 font-semibold text-foreground transition hover:-translate-y-[1px] hover:border-accent hover:text-accent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
          href={`mailto:${SITE.email}`}
        >
          {lang === 'es' ? 'Correo' : 'Email'}
        </a>
        <a
          class="inline-flex items-center gap-2 rounded-full border border-border/70 bg-panel px-4 py-2 font-semibold text-foreground transition hover:-translate-y-[1px] hover:border-accent hover:text-accent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
          href={SITE.social.github}
          target="_blank"
          rel="noopener"
        >
          <Icon name="github" label="GitHub" />
          GitHub
        </a>
        <a
          class="inline-flex items-center gap-2 rounded-full border border-border/70 bg-panel px-4 py-2 font-semibold text-foreground transition hover:-translate-y-[1px] hover:border-accent hover:text-accent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
          href={SITE.social.linkedin}
          target="_blank"
          rel="noopener"
        >
          LinkedIn
        </a>
      </div>
    </div>

    <div class="grid gap-10 md:grid-cols-4">
      <div>
        <p class="text-[11px] uppercase tracking-[0.18em] text-accent">{lang === 'es' ? 'Mapa' : 'Site'}</p>
        <ul class="mt-3 space-y-2">
          {links.map((item) => (
            <li>
              <a
                class="inline-flex items-center gap-2 rounded-md px-1 py-1 text-foreground/80 transition hover:text-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
                href={item.href}
              >
                {item.label}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <div>
        <p class="text-[11px] uppercase tracking-[0.18em] text-accent">{lang === 'es' ? 'Contacto' : 'Contact'}</p>
        <ul class="mt-3 space-y-2 text-foreground/80">
          <li>
            <a
              class="inline-flex items-center gap-2 rounded-md px-1 py-1 transition hover:text-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
              href={`mailto:${SITE.email}`}
            >
              {SITE.email}
            </a>
          </li>
          <li>
            <a
              class="inline-flex items-center gap-2 rounded-md px-1 py-1 transition hover:text-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
              href={`tel:${SITE.phone.replace(/\s+/g, '')}`}
            >
              {SITE.phone}
            </a>
          </li>
          <li>
            <span class="rounded-md px-1 py-1 text-foreground/70">
              {lang === 'es' ? 'Managua (UTC-6)' : 'Managua (UTC-6)'}
            </span>
          </li>
        </ul>
      </div>

      <div>
        <p class="text-[11px] uppercase tracking-[0.18em] text-accent">{lang === 'es' ? 'Legal' : 'Legal'}</p>
        <ul class="mt-3 space-y-2">
          {secondaryLinks.map((item) => (
            <li>
              <a
                class="inline-flex items-center gap-2 rounded-md px-1 py-1 text-foreground/80 transition hover:text-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
                href={item.href}
              >
                {item.label}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <div>
        <p class="text-[11px] uppercase tracking-[0.18em] text-accent">
          {lang === 'es' ? 'Disponibilidad' : 'Availability'}
        </p>
        <ul class="mt-3 space-y-2 text-foreground/80">
          <li>{lang === 'es' ? 'Respuesta <24h habiles' : '<24h response (business)'}</li>
          <li>{lang === 'es' ? 'Proyectos LATAM / UE / US' : 'Projects LATAM / EU / US'}</li>
          <li>{lang === 'es' ? 'SEO tecnico, performance, accesibilidad' : 'Technical SEO, performance, accessibility'}</li>
        </ul>
      </div>
    </div>

    <div class="flex flex-col gap-2 text-xs text-muted/85 md:flex-row md:items-center md:justify-between">
      <p>© {new Date().getFullYear()} {PERSON.fullName}</p>
      <p>
        {lang === 'es'
          ? 'Hecho con Astro + Tailwind · criterios CWV, SEO, accesibilidad'
          : 'Built with Astro + Tailwind · CWV, SEO, accessibility'}
      </p>
    </div>
  </div>
</footer>

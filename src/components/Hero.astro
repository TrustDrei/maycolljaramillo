---
interface CTA {
  href: string;
  label: string;
}

interface Callout {
  title: string;
  body: string;
}

interface Props {
  eyebrow?: string;
  title: string;
  subtitle: string;
  description: string;
  primary: CTA;
  secondary?: CTA;
  bullets?: string[];
  sidebarTitle?: string;
  sidebarTag?: string;
  callouts?: Callout[];
}

const defaultCallouts: Callout[] = [
  { title: 'No humo', body: 'Arquitectura, accesibilidad y SEO desde el diseño técnico.' },
  { title: 'Entrega segura', body: 'Sin dependencias pesadas, sin animaciones que rompan el LCP.' },
  { title: 'Accesible por defecto', body: 'Focus visibles, navegación por teclado, semántica cuidada.' }
];

const {
  eyebrow,
  title,
  subtitle,
  description,
  primary,
  secondary,
  bullets = [],
  sidebarTitle = 'Playbook',
  sidebarTag = 'WCAG · CWV · SEO',
  callouts = defaultCallouts
} = Astro.props;
---

<section class="section-animate">
  <div class="mx-auto grid max-w-6xl gap-10 px-4 pb-12 pt-10 lg:grid-cols-2 lg:items-center lg:px-6">
    <div class="space-y-5">
      {eyebrow && <p class="text-xs uppercase tracking-[0.2em] text-accent">{eyebrow}</p>}
      <h1 class="text-balance text-4xl font-semibold leading-tight text-foreground sm:text-5xl">
        {title}
      </h1>
      <p class="lead">{subtitle}</p>
      <p class="max-w-2xl text-base text-foreground/85">{description}</p>
      <div class="flex flex-wrap items-center gap-3">
        <a
          class="inline-flex items-center justify-center rounded-full bg-accent px-5 py-3 text-sm font-semibold text-surface transition hover:bg-accent-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-surface"
          href={primary.href}
        >
          {primary.label}
        </a>
        {secondary && (
          <a
            class="inline-flex items-center justify-center rounded-full border border-border/70 bg-panel px-5 py-3 text-sm font-semibold text-foreground transition hover:border-accent hover:text-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
            href={secondary.href}
          >
            {secondary.label}
          </a>
        )}
      </div>
      {bullets.length > 0 && (
        <ul class="grid gap-2 sm:grid-cols-2">
          {bullets.map((item) => (
            <li class="flex items-start gap-2 text-sm text-foreground/85">
              <span class="mt-0.5 inline-block h-2 w-2 rounded-full bg-accent"></span>
              <span>{item}</span>
            </li>
          ))}
        </ul>
      )}
    </div>
    <div class="space-y-3 border border-border/70 bg-panel px-4 py-4 rounded-2xl">
      <div class="flex items-center justify-between">
        <p class="text-sm font-semibold text-foreground/90">{sidebarTitle}</p>
        <span class="rounded-full bg-panel px-3 py-1 text-xs text-foreground/80">{sidebarTag}</span>
      </div>
      <div class="space-y-3 text-sm text-foreground/85">
        {callouts.map((item) => (
          <div class="rounded-md border border-border/60 bg-panel px-3 py-2">
            <p class="text-[11px] uppercase tracking-[0.18em] text-accent">{item.title}</p>
            <p class="mt-1 text-foreground/90">{item.body}</p>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
